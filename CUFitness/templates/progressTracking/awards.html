{% extends "base.html" %}

{% block title %}My Awards & Badges - CUFitness{% endblock %}

{% block content %}
<style>
  .section-title {
    margin: 40px 0 20px;
    font-weight: 600;
    text-align: center;
  }
  .card-img-top {
    height: 60px;
    object-fit: contain;
    margin: 10px auto 0;
  }
  .award-time {
    font-size: 0.9rem;
    color: #6c757d;
  }
</style>

<div class="container mt-5">
  <h1 class="text-center mb-5">🏆 My Awards and Badges</h1>

  <!-- Badges Section -->
  <h2 class="section-title">🏅 Badges</h2>
  {% if badges %}
    <div class="row">
      {% for user_badge in badges %}
        <div class="col-md-4 col-lg-3 mb-4">
          <div class="card h-100 text-center">
            {% if user_badge.badge.icon %}
              <img src="{{ user_badge.badge.icon.url }}" class="card-img-top" alt="{{ user_badge.badge.name }}">
            {% endif %}
            <div class="card-body">
              <h5 class="card-title">{{ user_badge.badge.name }}</h5>
              <p class="card-text">{{ user_badge.badge.description }}</p>
              <p class="award-time">🏁 Awarded on: {{ user_badge.awarded_at|date:"Y-m-d H:i" }}</p>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-center text-muted">You haven't earned any badges yet.</p>
  {% endif %}

  <!-- Awards Section -->
  <h2 class="section-title">🎖️ Awards</h2>
  {% if awards %}
    <div class="row">
      {% for user_award in awards %}
        <div class="col-md-4 col-lg-3 mb-4">
          <div class="card h-100 text-center">
            {% if user_award.award.icon %}
              <img src="{{ user_award.award.icon.url }}" class="card-img-top" alt="{{ user_award.award.name }}">
            {% endif %}
            <div class="card-body">
              <h5 class="card-title">{{ user_award.award.name }}</h5>
              <p class="card-text">{{ user_award.award.description }}</p>
              <p class="award-time">🏁 Awarded on: {{ user_award.awarded_at|date:"Y-m-d H:i" }}</p>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-center text-muted">You haven't earned any awards yet.</p>
  {% endif %}
</div>
{% endblock %}

<!DOCTYPE html>
<html>
<head>
    <title>Meal Preparation Instructions</title>
</head>
<body>
    <h1>Meal Preparation Instructions</h1>
    
    <form method="get">
        <label for="dietary_restrictions">Dietary Restrictions:</label>
        <input type="text" name="dietary_restrictions" id="dietary_restrictions">
        
        <label for="price_min">Min Price:</label>
        <input type="number" step="0.01" name="price_min" id="price_min">
        
        <label for="price_max">Max Price:</label>
        <input type="number" step="0.01" name="price_max" id="price_max">
        
        <label for="prepare_time_max">Max Preparation Time (mins):</label>
        <input type="number" name="prepare_time_max" id="prepare_time_max">
        
        <label for="calories_max">Max Calories:</label>
        <input type="number" name="calories_max" id="calories_max">
        
        <label for="protein_min">Min Protein (g):</label>
        <input type="number" name="protein_min" id="protein_min">
        
        <button type="submit">Filter</button>
    </form>
    
    {% for instruction in instructions %}
        <div style="border:1px solid #ccc; margin:10px; padding:10px;">
            <h2>{{ instruction.name }} ({{ instruction.difficulty }})</h2>
            <p><strong>Dietary Restrictions:</strong> {{ instruction.dietary_restrictions }}</p>
            <p><strong>Price:</strong> ${{ instruction.price }}</p>
            <p><strong>Preparation Time:</strong> {{ instruction.prepare_time }} minutes</p>
            <p><strong>Calories:</strong> {{ instruction.calories }}</p>
            <p><strong>Protein:</strong> {{ instruction.protein }} g</p>
            <h3>Preparation Steps:</h3>
            <p>{{ instruction.steps|linebreaks }}</p>
        </div>
    {% empty %}
        <p>No meal instructions found. Please adjust your filters.</p>
    {% endfor %}
</body>
</html>
